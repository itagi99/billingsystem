<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bill Receipt System</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container" id="receipt">
        <div id="receipt-content">
            <h2>ANNAPURNA STORES</h2>
            <p>Bill No: <span id="billNo">1</span></p>
            <p>Customer: <input type="text" id="customerName" placeholder="Optional"></p>

            <table id="billTable">
                <thead>
                    <tr>
                        <th>Sl. No</th>
                        <th>Particulars</th>
                        <th>Qty</th>
                        <th>Rate</th>
                        <th>Total</th>
                        <th class="action-column">Action</th>
                    </tr>
                </thead>
                <tbody id="billBody"></tbody>
            </table>

            <h3>Grand Total: ₹ <span id="grandTotal">0.00</span></h3>
            <p>Cash Received: ₹ <input type="number" id="cashReceived" oninput="calculateBalance()"></p>
            <p>Balance: ₹ <span id="balance">0.00</span></p>
            
            <div id="qr-container">
                <div id="qrcode"></div>
            </div>
        </div>

        <button onclick="showPopup()">Add Item</button>
        <button onclick="resetBill()">Reset Bill (F3)</button>
        <button onclick="printReceipt()">Print Bill (Ctrl + P)</button>
        <button onclick="saveBillAsImage()">Save Bill as Image</button>
    </div>

    <div id="popup">
        <h3>Add Item <span style="float: right; cursor: pointer;" onclick="closePopup()">X</span></h3>
        <label>Product Name (Optional): <input type="text" id="productName" placeholder="Enter product name"></label>
        <label>Quantity: <input type="number" id="quantity" step="0.01" placeholder="Enter quantity"></label>
        <label>Rate: <input type="number" id="rate" placeholder="Enter rate"></label>
        <button onclick="addItemFromPopup()">Add</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
